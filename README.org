#+TITLE: OnlineTA Web Server

Nothing special, just a multiplexer. The fun stuff happens later.

Create the directories =uploads= and =tests=. Place tests for a numerically
indexed assignment under =tests=. The entry program must be called =run.sh=,
and must be executable. For instance, =tests/0/run.sh=.

Starts a Go server at port =8080=, and writes an error log to =error.log=.

For configuring the files which must be there, and which could be there, see
=files.json=.

* Testing

To test, start the process in one terminal:

#+BEGIN_SRC shell
go run main.go
#+END_SRC

And in another:

#+BEGIN_SRC shell
curl -F src=@src.zip -F report=@report.pdf -F group=@group.txt http://localhost:8080/grade/0
#+END_SRC

* Deploying

#+BEGIN_SRC shell
./build.sh # Builds a statically-linked executable.
./deploy.sh # scp's to whatever host you specified in deploy.conf
#+END_SRC
